{% extends 'base.html' %}

{% block title %}作業日報修正 - Ushiku{% endblock %}

{% block content %}
<div class="subhead">
    <div>
    作業日報修正　　
    </div>
</div>
<br>
<h3>工番早見表</h3>
<div style="padding: 10px 5px; border-radius: 10px; background:rgb(223, 223, 223); width:300px; height:100px; overflow-y: scroll; ">
{% if not work_orders %}
    <h1>データがありません</h1>
{% else %}
<table border style="padding:10px;">
<thead>
    <th>工番</th>
    <th>件名</th>
</thead>
<tbody>
{% for order in work_orders %}
<tr>
    <td>{{ order.work_number }}</td>
    <td>{{ order.subject }}</td>
</tr>
{% endfor %}
</tbody>
</table>
{% endif %}
</div><br>
<form method="post">
    {% csrf_token %}
        {% for hidden in form.hidden_fields %}
            {{ hidden }}
        {% endfor %}
    {{ form.as_p }}
    <br><br>
        <div class="f_el"><div align="right">
            <button onclick="history.back(); return false;" class="sub_bt">戻る</button>　
            <button type="submit" class="sub_bt" style="padding:10px 20px;">更新</button>
        </div></div>
</form>
<script>
    // フォーム内でEnterキーを押したときのデフォルト動作を無効化
    document.querySelectorAll('form').forEach(form => {
        form.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                // Enterキーが押された場合、デフォルトの送信動作を防ぐ
                event.preventDefault();
            }
        });
    });
</script>
{% endblock %}
